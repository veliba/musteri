<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Müşteriler</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<div class="container mt-3">
		<h1>Müşteriler</h1>
		<hr />
		<table class="table table-dark">
			<thead>
				<tr>
					<th scope="col">Ad Soyad</th>
					<th scope="col">Uyruk</th>
					<th scope="col">TCKNO</th>
					<th scope="col">GSM</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="musteri : ${musteriler}">
					<td th:text="${musteri.adSoyad}">Id</td>
					<td th:text="${musteri.uyruk}">Uyruk</td>
					<td th:text="${musteri.tck}">TCKNO</td>
					<td th:text="${musteri.gsm}">GSM</td>
					<td>
					<a th:href="@{|/kaydet?id=${musteri.id}|}" class="btn btn-light">Düzenle</a>
                    <a th:href="@{|/sil?id=${musteri.id}|}" class="btn btn-light">Sil</a>
					</td>
				</tr>
			</tbody>
			<tr>
				<td colspan="6"><a href="/kaydet" class="btn btn-primary">Ekle</a>
				</td>
			</tr>
		</table>
		<div th:if="${info}" id="formInfo" class="alert alert-success">  
          <a class="close">×</a>  
          <span th:text="${info}">Info message</span>
        </div>
		<div th:if="${error}" id="formAlert" class="alert alert-danger">  
          <a class="close">×</a>  
          <span th:text="${error}">Error message</span>
        </div>
	</div>
</body>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
$(document).ready(function () {
    // Run this code only when the DOM (all elements) are ready

    $(".alert").find(".close").on("click", function (e) {
        // Find all elements with the "alert" class, get all descendant elements with the class "close", and bind a "click" event handler
        e.stopPropagation();    // Don't allow the click to bubble up the DOM
        e.preventDefault();    // Don't let any default functionality occur (in case it's a link)
        $(this).closest(".alert").slideUp(400);    // Hide this specific Alert
    });
});

</script> 

</html>